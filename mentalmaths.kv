#: import NoTransition kivy.uix.screenmanager.NoTransition

<ContentNavigationDrawer>:
    ScrollView:
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}
        size_hint: (1, 0.8)
        MDList:

            OneLineListItem:
                text: 'Multiply By 11'
                pos_hint: {'center_x': 0.5, 'center_y': 0.8}
                text_color: app.theme_cls.primary_dark
                on_press:
                    root.screen_manager.current = 'Multiply By 11'
                    app.set_game("Multiply By 11")
                    app.launch_game()

            OneLineListItem:
                text: 'Two digit addition'
                pos_hint: {'center_x': 0.5, 'center_y': 0.6}
                text_color: app.theme_cls.primary_dark
                on_press:
                    root.screen_manager.current = "Two Digit Addition"
                    app.set_game("Two Digit Addition")
                    app.launch_game()

            OneLineListItem:
                text: 'Three by one digit multiplication'
                pos_hint: {'center_x': 0.5, 'center_y': 0.4}
                text_color: app.theme_cls.primary_dark
                on_press:
                    root.screen_manager.current = "Three By One Digit Multiplication"
                    app.set_game("Three By One Digit Multiplication")
                    app.launch_game()

            OneLineListItem:
                text: 'Two digit multiplication'
                pos_hint: {'center_x': 0.5, 'center_y': 0.2}
                text_color: app.theme_cls.primary_dark
                on_press:
                    root.screen_manager.current = "Two Digit Multiplication"
                    app.set_game("Two Digit Multiplication")
                    app.launch_game()


MDScreen:
    name: "Menu"
    ToolBar:
        id: toolbar
        screen_manager: screen_manager


    SM:
        id: screen_manager



<SM>
    transition: NoTransition()

    MDScreen:
        name: "Menu"
        MDLabel:
            text: "Welcome to Maths Dojo"
            halign: "center"
            valign: "center"

    MDScreen:
        name: "Library"
        ContentNavigationDrawer:
            id:nav
            screen_manager: root

    MDScreen:
        name: "Settings"
        MDLabel:
            text: "Settings"
            halign: "center"
            valign: "center"

    GameScreen:
        id: MultiplyBy11
        name: "Multiply By 11"

    GameScreen:
        id: TwoDigitAddition
        name: "Two Digit Addition"

    GameScreen:
        id: ThreeByOneDigitMultiplication
        name: "Three By One Digit Multiplication"

    GameScreen:
        id: TwoDigitMultiplication
        name: "Two Digit Multiplication"

<ToolBar>
    panel_color: app.theme_cls.bg_light

    MDIconButton:
        icon: "home"
        on_touch_up:
            root.screen_manager.current = "Menu"

    MDIconButton:
        icon: "library"
        on_touch_up:
            root.screen_manager.current = "Library"

    MDIconButton:
        icon: "cog"
        on_touch_up:
            root.screen_manager.current = "Settings"

<GameScreen>
    MDLabel:
        id: prompt
        text: ""
        halign: "center"
        text_color: app.theme_cls.primary_dark
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}

    MDTextField:
        id: PlayerInput
        hint_text: "Helper text on focus"
        helper_text: "This will disappear when you click off"
        helper_text_mode: "on_focus"
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        text_validate_unfocus: False
        on_text_validate:
            app.game.player_input()

<MenuButton>
    text: "Menu"
    text_color: app.theme_cls.primary_color
    on_release:
        app.game.PopUp.dismiss()
        app.root.ids.nav.screen_manager.current = "Menu"
        app.set_game("Maths Dojo")

<PlayAgainButton>
    text: "Play Again"
    text_color: app.theme_cls.primary_color
    on_release:
        app.game.PopUp.dismiss()
        app.game.play_game()

<HelpButton>
    text: "Help"
    text_color: app.theme_cls.primary_color
    on_release:
        app.game.PopUp.dismiss()
        app.game.display_help()

<CloseButton>
    text: "Close"
    text_color: app.theme_cls.primary_color
    on_release:
        app.game.HelpPopUp.dismiss()
        app.game.PopUp.open()

<StartGameButton>
    text: "Start Game"
    text_color: app.theme_cls.primary_color
    on_release:
        app.game.PopUp.dismiss()
        app.game.play_game()
